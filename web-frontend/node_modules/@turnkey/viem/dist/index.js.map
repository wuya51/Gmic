{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":[null],"names":["BaseError","TurnkeyHttpActivityError","isAddress","toAccount","hashMessage","serializeTransaction","ApiKeyStamper","TurnkeyClient","parseTransaction","serializeTypedData","TurnkeyHttpActivityConsensusNeededError","isHttpClient","assertActivityCompleted","assertNonNull","secp256k1","hexToBigInt","hexToBytes"],"mappings":"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"}