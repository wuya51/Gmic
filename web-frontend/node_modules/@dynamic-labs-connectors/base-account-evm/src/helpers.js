'use client';
function _extends() {
    _extends = Object.assign || function(target) {
        for(var i = 1; i < arguments.length; i++){
            var source = arguments[i];
            for(var key in source){
                if (Object.prototype.hasOwnProperty.call(source, key)) {
                    target[key] = source[key];
                }
            }
        }
        return target;
    };
    return _extends.apply(this, arguments);
}
import { createBaseAccountSDK } from '@base-org/account';
let baseAccountProvider;
const baseSepolia = 84532;
const baseMainnet = 8453;
export const getBaseAccountProvider = (opts)=>{
    const { evmNetworks } = opts;
    const appChainIds = evmNetworks == null ? void 0 : evmNetworks.map((network)=>Number(network.chainId));
    const hasBaseSepolia = evmNetworks == null ? void 0 : evmNetworks.some((network)=>Number(network.chainId) === baseSepolia);
    if (hasBaseSepolia) {
        appChainIds == null ? void 0 : appChainIds.sort((a, b)=>a === baseSepolia ? -1 : b === baseSepolia ? 1 : 0);
    }
    const hasBaseMainnet = evmNetworks == null ? void 0 : evmNetworks.some((network)=>Number(network.chainId) === baseMainnet);
    if (hasBaseMainnet) {
        appChainIds == null ? void 0 : appChainIds.sort((a, b)=>a === baseMainnet ? -1 : b === baseMainnet ? 1 : 0);
    }
    if (!baseAccountProvider) {
        const baseAccountSdk = createBaseAccountSDK(_extends({}, opts, {
            appChainIds
        }));
        baseAccountProvider = baseAccountSdk.getProvider();
    }
    return baseAccountProvider;
};
