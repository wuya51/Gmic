import {
  convertTurnkeyApiKeyToJwk
} from "./chunk-LBHKACUP.js";
import "./chunk-XWZ3RPJ2.js";
import "./chunk-TJGQWPPV.js";
import {
  __commonJS,
  __toESM
} from "./chunk-CVK6YDBK.js";

// browser-external:crypto
var require_crypto = __commonJS({
  "browser-external:crypto"(exports, module) {
    module.exports = Object.create(new Proxy({}, {
      get(_, key) {
        if (key !== "__esModule" && key !== "__proto__" && key !== "constructor" && key !== "splice") {
          console.warn(`Module "crypto" has been externalized for browser compatibility. Cannot access "crypto.${key}" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`);
        }
      }
    }));
  }
});

// node_modules/@turnkey/api-key-stamper/dist/nodecrypto.mjs
var crypto = __toESM(require_crypto(), 1);
var signWithApiKey = async (input) => {
  const { content, publicKey, privateKey } = input;
  const privateKeyObject = crypto.createPrivateKey({
    // @ts-expect-error -- the key can be a JWK object since Node v15.12.0
    // https://nodejs.org/api/crypto.html#cryptocreateprivatekeykey
    key: convertTurnkeyApiKeyToJwk({
      uncompressedPrivateKeyHex: privateKey,
      compressedPublicKeyHex: publicKey
    }),
    format: "jwk"
  });
  const sign = crypto.createSign("SHA256");
  sign.write(Buffer.from(content));
  sign.end();
  return sign.sign(privateKeyObject, "hex");
};
export {
  signWithApiKey
};
//# sourceMappingURL=nodecrypto-CI7MH263.js.map
